<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/index.css">
</head>
<body>
    <%- include("../partials/header") %>
    <main>
    <section class="section__create">
            <h3 class="my-5">Agregar producto</h3>
        <form class="create__container d-flex flex-column justify-content-center align-items-center" enctype="multipart/form-data" action="/product/create" method="POST">
            <div class="form-floating mb-3">
                <input type="text" name="name" class="form-control" id="floatingInput" placeholder="Nombre">
                <label for="floatingInput">Nombre</label>
                <% if (locals.errors && errors.name) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.name.msg %></span>
                    <% } %> 
            </div>
            <article>
                <select name="category" class="form-select" aria-label="categoria">
                    <option selected>Categoria</option>
                    <% categorias.forEach(cat=>{ %>
                        <option value="<%=cat.id%>"><%=cat.name%></option>
                    <% }) %>
                    
                    
                </select>
                <% if (locals.errors && errors.category) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.category.msg %></span>
                    <% } %> 
                <select name="marca" class="form-select" aria-label="marca">
                    <option selected>Marca</option>
                    <% marcas.forEach(marc=>{ %>
                        <option value="<%=marc.id%>"><%=marc.name%></option>
                    <% }) %>
                </select>
                <% if (locals.errors && errors.marca) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.marca.msg %></span>
                    <% } %> 
            </article>
            <article>
                <div class="form-floating w-50">
                    <input type="number" name="stock" class="form-control" id="floatingInput" placeholder="stock">
                    <label for="floatingInput">Stock</label>
                    <% if (locals.errors && errors.stock) { %>
                        <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.stock.msg %></span>
                        <% } %> 
                </div>
                <div class="form-floating w-50">
                    <input type="number" name="price" class="form-control" id="floatingInput" placeholder="precio">
                    <label for="floatingInput">Precio en $ ARS</label>
                    <% if (locals.errors && errors.price) { %>
                        <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.price.msg %></span>
                        <% } %> 
                </div>
            </article>
            <article>
                <select name="top_seller" class="form-select" aria-label="destacado">
                    <option selected>Destacado</option>
                    <option value="1">si</option>
                    <option value="2">no</option>
                </select>
                <% if (locals.errors && errors.top_seller) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.top_seller.msg %></span>
                    <% } %> 
                <div class="form-floating w-50">
                    <input type="number" name="offer" class="form-control" id="floatingInput" placeholder="oferta">
                    <label for="floatingInput">Oferta en %</label>
                    <% if (locals.errors && errors.offer) { %>
                        <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.offer.msg %></span>
                        <% } %> 
                </div>            
            </article>
            <article>
                <label class="text-secondary w-25">Imagen: </label>
                <input type="file" name="image" id="productImage" accept="image/*" multiple>
                <% if (locals.errors && errors.image) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.image.msg %></span>
                    <% } %> 
            </article>
            <article class="form-floating">
                <textarea class="form-control" name="description" placeholder="descripcion" id="floatingTextarea"></textarea>
                <label for="floatingTextarea">Descripcion</label>
                <% if (locals.errors && errors.description) { %>
                    <span class="text-danger" style="color: #900; font-weight: 200;"><%= errors.description.msg %></span>
                    <% } %> 
            </article>
            <article class="w-75 d-flex justify-content-center">
                <button class="btn btn-outline-success text-black w-100" type="submit">Continuar</button>
            </article>
        </form>
    </section>
    </main>
    <%- include("../partials/footer") %>
</body>
</html>